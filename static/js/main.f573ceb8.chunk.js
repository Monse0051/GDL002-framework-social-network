(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(54)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(28),o=a.n(i),l=a(4),c=a(5),r=a(7),u=a(6),m=a(8),h=a(3),p=a.n(h),d=a(15),b=a(16),g=(a(47),a(48),a(49),a(17)),v=a(18),f="/home",E=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"introducton-text"},s.a.createElement("h1",null,"Women Who Code"),s.a.createElement("p",null,"This is a social network for women who are somehow learning to develop and who want to share resources and create a community, join us!"))}}]),t}(s.a.Component),k={email:"",password:"",error:null},O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,s=t.password;a.firebase.auth().signInWithEmailAndPassword(n,s).then(function(){a.setState(Object(v.a)({},k)),a.props.history.push(f),console.log("DEBUG_MSG: authenticated!")}).catch(function(e){a.setState({error:e}),console.log("DEBUG_MSG: error to auth"),console.log(e)}),e.preventDefault()},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.firebase=p.a,a.state=Object(v.a)({},k),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,i=""===a||""===t;return s.a.createElement("div",{className:"conteiner"},s.a.createElement("div",{className:"introduction-section"},s.a.createElement(E,null)),s.a.createElement("div",{className:"login-page"},s.a.createElement("div",{className:"login-section"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{className:"input-email",name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{className:"input-password",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"})," ",s.a.createElement("br",null),s.a.createElement("button",{className:"signin-button",disabled:i,type:"submit"},"Sign In"),n&&s.a.createElement("p",null,n.message)),s.a.createElement("p",null,"Don't you have an account?"),s.a.createElement(d.b,{className:"singup-button",to:"/signup"},"Sign up"))))}}]),t}(s.a.Component),j=a(10),w={apiKey:"AIzaSyCmt7a6vfZ7MhNJyhcnxhjrhPbSQ_M68Wc",authDomain:"react-social-network-85607.firebaseapp.com",databaseURL:"https://react-social-network-85607.firebaseio.com",projectId:"react-social-network-85607",storageBucket:"react-social-network-85607.appspot.com",messagingSenderId:"351547157737",appId:"1:351547157737:web:cfd6714f5ee45501"},y=function(e,t){0===e.apps.length&&e.initializeApp(w);var a=e.app();return{firebase:e,database:a.firestore()}},C=function(e,t,a){return t.collection("posts").where(a.argument,a.cmp,a.value).get().then(function(e){var t=[];return e.forEach(function(e){var a=e.data();console.log("DEBUG_MSG: post: ",a),t.unshift(a)}),t})},S=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSignOut",value:function(){p.a.auth().signOut()}},{key:"render",value:function(){return s.a.createElement("nav",null,s.a.createElement("h2",{className:"logo-link"},"Women Who Code"),s.a.createElement("ul",{className:"nav-views"},s.a.createElement("li",null,s.a.createElement(d.b,{className:"nav-views__link",to:f},s.a.createElement("i",null,s.a.createElement("ion-icon",{name:"home"})))," "),s.a.createElement("li",null,s.a.createElement(d.b,{className:"nav-views__link",to:"/friends"},s.a.createElement("i",null,s.a.createElement("ion-icon",{name:"contacts"}))," ")),s.a.createElement("li",null,s.a.createElement(d.b,{className:"nav-views__link",to:"/myaccount"},s.a.createElement("i",null,s.a.createElement("ion-icon",{name:"person"}))," ")),s.a.createElement("li",null,s.a.createElement(d.b,{className:"nav-views__link",to:"/",onClick:this.onSignOut},s.a.createElement("i",null,s.a.createElement("ion-icon",{name:"log-out"}))))))}}]),t}(s.a.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).firebase=p.a,a.database=null,a.newMessage="",a.state={likeCounter:a.props.likes,isDisabled:!0},a.onClickLike=a.onClickLike.bind(Object(j.a)(a)),a.onDelete=a.onDelete.bind(Object(j.a)(a)),a.onEdit=a.onEdit.bind(Object(j.a)(a)),a.onSave=a.onSave.bind(Object(j.a)(a)),a.onChangePost=a.onChangePost.bind(Object(j.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=y(this.firebase,this.database);this.firebase=e.firebase,this.database=e.database}},{key:"onDelete",value:function(){console.log("DEBUG_MSG: deleting..."),alert("are you sure?"),this.database.collection("posts").doc(this.props.date.toString()).delete(),this.props.deleteFunc(this.props.date)}},{key:"onClickLike",value:function(){console.log("posteando...");var e={mail:this.props.mail,date:this.props.date,message:this.props.msg,public:this.props.public,likes:this.state.likeCounter+1};this.database.collection("posts").doc(this.props.date.toString()).set(e),console.log("then"),this.setState(function(e){return{likeCounter:e.likeCounter+1}})}},{key:"onEdit",value:function(){console.log("editando..."),this.setState({isDisabled:!1})}},{key:"onSave",value:function(){var e={mail:this.props.mail,date:this.props.date,message:this.newMessage,public:this.props.public,likes:this.state.likeCounter};this.database.collection("posts").doc(this.props.date.toString()).set(e),this.setState({isDisabled:!0})}},{key:"onChangePost",value:function(e){this.newMessage=e.target.value}},{key:"render",value:function(){var e,t,a=new Date(this.props.date).toDateString();return this.props.isEditable&&(e=s.a.createElement("button",{className:"button",onClick:this.onDelete},s.a.createElement("ion-icon",{name:"trash"})),t=this.state.isDisabled?s.a.createElement("button",{className:"button",onClick:this.onEdit},s.a.createElement("ion-icon",{name:"create"})):s.a.createElement("button",{className:"button",onClick:this.onSave},s.a.createElement("ion-icon",{name:"save"}))),s.a.createElement("div",null,s.a.createElement("p",null,this.props.mail),s.a.createElement("p",null,a),s.a.createElement("p",null,s.a.createElement("textarea",{rows:"4",cols:"50",onChange:this.onChangePost,defaultValue:this.props.msg,disabled:this.state.isDisabled})),s.a.createElement("p",null,this.state.likeCounter),s.a.createElement("button",{className:"button",onClick:this.onClickLike}," ",s.a.createElement("ion-icon",{name:"heart"})),e,t,s.a.createElement("br",null))}}]),t}(s.a.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).firebase=p.a,a.database=null,a.state={postList:[],postMessage:"",public:!1},a.onPost=a.onPost.bind(Object(j.a)(a)),a.onChangePost=a.onChangePost.bind(Object(j.a)(a)),a.onSetPrivacity=a.onSetPrivacity.bind(Object(j.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=y(this.firebase,this.database);this.firebase=t.firebase,this.database=t.database,C(this.firebase,this.database,{argument:"public",cmp:"==",value:!0}).then(function(t){e.setState({postList:t})}).catch(function(e){return console.log(e)})}},{key:"onPost",value:function(){console.log("posteando...");var e=p.a.auth().currentUser,t=Date.now(),a={mail:e.email,date:t,message:this.state.postMessage,public:this.state.public,likes:0};if(this.database.collection("posts").doc(t.toString()).set(a),a.public){var n=this.state.postList;n.unshift(a),this.setState({postList:n})}this.setState({postMessage:""})}},{key:"onChangePost",value:function(e){this.setState({postMessage:e.target.value})}},{key:"onSetPrivacity",value:function(e){console.log(e.target.value),this.setState({public:"Public"===e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S,null),s.a.createElement("div",null,s.a.createElement("h1",null,"Welcome to Home Page"),s.a.createElement("textarea",{rows:"4",cols:"50",onChange:this.onChangePost,value:this.state.postMessage})," ",s.a.createElement("br",null),s.a.createElement("input",{type:"radio",name:"privacity",value:"Public",onChange:this.onSetPrivacity}),"Public",s.a.createElement("input",{type:"radio",name:"privacity",value:"Friends",onChange:this.onSetPrivacity}),"Friends",s.a.createElement("button",{onClick:this.onPost},"Post")),s.a.createElement("div",{className:"post-section"},s.a.createElement("ul",null,this.state.postList.map(function(e){return s.a.createElement(N,{mail:e.mail,date:e.date,msg:e.message,public:e.public,likes:e.likes,isEditable:!1,key:e.date})}))))}}]),t}(s.a.Component),P={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},M="auth/email-already-in-use",L="\n    An account with this E-Mail address already exists.\n    Try to login with this account instead. \n  ",_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,s=t.passwordOne;a.firebase.auth().createUserWithEmailAndPassword(n,s).then(function(){a.setState(Object(v.a)({},P)),a.props.history.push(f)}).catch(function(e){e.code===M&&(e.message=L),a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.onChangeCheckbox=function(e){a.setState(Object(g.a)({},e.target.name,e.target.checked))},a.firebase=p.a,a.state=Object(v.a)({},P),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,i=e.passwordTwo,o=e.error,l=n!==i||""===n||""===a||""===t;return s.a.createElement("div",{className:"signup-page"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{className:"input-signup-username",name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),s.a.createElement("input",{className:"input-signup-email",name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{className:"input-signup-passwordOne",name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),s.a.createElement("input",{className:"input-signup-passwordtwo",name:"passwordTwo",value:i,onChange:this.onChange,type:"password",placeholder:"Confirm Password"})," ",s.a.createElement("br",null),s.a.createElement("button",{className:"signup-form-button",disabled:l,type:"submit"},"Sign Up"),o&&s.a.createElement("p",null,o.message)))}}]),t}(s.a.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).firebase=p.a,a.database=null,a.state={postList:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=y(this.firebase,this.database);this.firebase=t.firebase,this.database=t.database,console.log(this.firebase.auth().currentUser),C(this.firebase,this.database,{argument:"public",cmp:"==",value:!1}).then(function(t){e.setState({postList:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(S,null)),s.a.createElement("div",null,s.a.createElement("h1",null,"Welcome to Friends Page")),s.a.createElement("div",{className:"post-section"},s.a.createElement("ul",null,this.state.postList.map(function(e){return s.a.createElement(N,{mail:e.mail,date:e.date,msg:e.message,public:e.public,likes:e.likes,key:e.date})}))))}}]),t}(s.a.Component),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).firebase=p.a,a.database=null,a.state={postList:[],user:null},a.onDelete=a.onDelete.bind(Object(j.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=y(this.firebase,this.database);this.firebase=t.firebase,this.database=t.database,p.a.auth().onAuthStateChanged(function(t){t&&(e.setState({user:t}),C(e.firebase,e.database,{argument:"mail",cmp:"==",value:e.state.user.email}).then(function(t){e.setState({postList:t})}).catch(function(e){return console.log(e)}))})}},{key:"onDelete",value:function(e){var t=this.state.postList,a=t.findIndex(function(t){return e===t.date});t.splice(a,1),this.setState({postList:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(S,null)),s.a.createElement("div",null,s.a.createElement("h1",null,"Welcome to your Account")),s.a.createElement("div",{className:"post-section"},s.a.createElement("ul",null,this.state.postList.map(function(t){return s.a.createElement(N,{mail:t.mail,date:t.date,msg:t.message,public:t.public,likes:t.likes,isEditable:!0,deleteFunc:e.onDelete,key:t.date})}))))}}]),t}(s.a.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){0===p.a.apps.length&&p.a.initializeApp(w)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(d.a,null,s.a.createElement("div",null,s.a.createElement(b.a,{exact:!0,path:"/",component:O}),s.a.createElement(b.a,{path:"/signup",component:_}),s.a.createElement(b.a,{path:f,component:D}),s.a.createElement(b.a,{path:"/friends",component:x}),s.a.createElement(b.a,{path:"/myaccount",component:W}))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.f573ceb8.chunk.js.map